var $=jQuery.noConflict();$(document).ready(function(){$('.home-slider').slick({dots:!0,arrows:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:767,settings:{arrows:!1,}}]});$('.post-slider').slick({dots:!0,arrows:!0,infinite:!0,slidesToShow:5,slidesToScroll:1,responsive:[{breakpoint:767,settings:{arrows:!1,}}]});$('.event-slider').slick({dots:!1,arrows:!0,infinite:!0,slidesToShow:3,slidesToScroll:1,autoplay:!0,autoplaySpeed:3000,variableWidth:!0,centerMode:!0});$('.property-listing-slick').slick({dots:!0,arrows:!1,infinite:!0,slidesToShow:4,slidesToScroll:1,variableWidth:!0,responsive:[{breakpoint:767,settings:{arrows:!1,}}]});$('.property-string-slick').slick({dots:!1,arrows:!0,infinite:!0,slidesPerRow:3,rows:2,responsive:[{breakpoint:767,settings:{arrows:!1,dots:!0}}]});$('.property-single-slider').slick({dots:!1,arrows:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,variableWidth:!0});$(".mobile-nav").click(function(e){e.preventDefault();$("body").addClass("mobile-menu-open")});$(".mobile-menu-close").click(function(e){e.preventDefault();$("body").removeClass("mobile-menu-open")});$(window).scroll(function(){var sticky=$('body'),scroll=$(window).scrollTop();if(scroll>=500)sticky.addClass('header-stuck');else sticky.removeClass('header-stuck')});$(window).scroll(startCounter);$(".open-modal-content").click(function(e){e.preventDefault();var content=$(this).closest('.show-in-modal').find('.content-for-modal').html();var title=$(this).closest('.show-in-modal').find('.title-for-modal').html();$('#modal-content .content-wrp .content').html(content);$('#modal-content .content-wrp .title').html(title);$('#modal-content').modal("show")});$(".header-search-mb").click(function(e){e.preventDefault();if($(this).hasClass('active')){$(".open-search").removeClass("active");$(this).removeClass('active')}else{$(".open-search").addClass("active");$(this).addClass('active');$("body").addClass("header-stuck")}});$(".open-search-button").click(function(e){e.preventDefault();if($(this).hasClass('active')){$(".open-search").removeClass("active");$(this).removeClass('active')}else{$(".open-search").addClass("active");$(this).addClass('active');$("body").addClass("header-stuck")}});$(".close-search-button").click(function(e){e.preventDefault();$(".open-search-button").removeClass("active");$(".open-search").removeClass("active")});$('.acc h4').click(function(event){event.preventDefault();var section=$(this).closest('.acc');if(section.hasClass('active')){section.removeClass('active')}else{$('.acc').removeClass('active');section.addClass('active')}});$('.lightbox').magnificPopup({type:'image',gallery:{enabled:!0}});var priceFormat;if($('.price-range-slider').length){$('.price-range-slider').noUiSlider({start:[price_range_min,price_range_max],step:1,range:{'min':0,'max':100},connect:!0,format:wNumb({decimals:0})});priceFormat=wNumb({decimals:0});$('.price-range-slider').Link('lower').to($('.price-range-min'));$('.price-range-slider').Link('upper').to($('.price-range-max'))}
$('.price-range-slider').change(function(){var price_range,min_price,max_price;price_range=$('.price-range-slider').val();min_price=priceFormat.from(price_range[0]);max_price=priceFormat.from(price_range[1]);$('.input-price-range-min').val(min_price);$('.input-price-range-max').val(max_price)});$("body").click(function(e){if(e.target.className!=="live-search-result"&&e.target.id!=="s_name"&&e.target.id!=="s_address"&&e.target.id!=="sqr"&&e.target.id!=="sqr-2"&&e.target.id!=="add"&&e.target.id!=="add-2"){$(".live-search-result").addClass('d-none')}});$("body").click(function(e){if(e.target.className=="open-search-button"||$(e.target).parents(".open-search-button").length||e.target.className=="live-search"||$(e.target).parents(".live-search").length||e.target.className=="live-search-result"||$(e.target).parents(".live-search-result").length){}else{$(".open-search").removeClass('active');$(".open-search-button").removeClass('active')}});var vlook_url='https://vlook.vn';var vptg_url='https://vlook.vn/van-phong-tron-goi';$('#s_name').keyup(function(){$('.live-search-result ul').empty();$('#street-result .list').empty();$('#street-result .title').hide();var searchField=$('#s_name').val();if(searchField!=''){var expression=new RegExp(searchField,"i");$.getJSON(vlook_url+'/wp-content/uploads/properties/properties_name.json',function(data){var n=0;$.each(data,function(key,value){if(value.title.search(expression)!=-1||value.address.search(expression)!=-1){n++;if(n>5){return!1}else{$('#s_name-result .vpct').append('<li><a href="'+value.url+'"><img src="'+value.img+'" alt="'+value.title+'"><div><span>'+value.title+'</span><span class="address">'+value.address+'</span></div></a></li>')}}})});$.getJSON(vptg_url+'/wp-content/uploads/properties/vptg.json',function(data){var n=0;$.each(data,function(key,value){if(value.title.search(expression)!=-1||value.address.search(expression)!=-1){n++;if(n>5){return!1}else{$('#vptg-result .vptg').append('<li><a href="'+value.url+'"><img src="'+value.img+'" alt="'+value.title+'"><div><span class="tag">Văn phòng trọn gói</span><span>'+value.title+'</span><span class="address">'+value.address+'</span></div></a></li>')}}})});$.getJSON(vlook_url+'/wp-content/uploads/properties/street.json',function(data){var n=0;$.each(data,function(key,value){if(value.name.search(expression)!=-1){$('#street-result .title').show();n++;if(n>1){return!1}else{$('#street-result .list').append('<a href="'+value.url+'"><img src="'+value.img+'" alt="'+value.name+'"><div class="txt"><span class="tag">Tuyến đường</span><span>'+value.name+'</span></div></a>')}}})})}});$("#s_name").focus(function(){$('.live-search-result').addClass('d-none');$('#s_name-result').removeClass('d-none')});$('#s_address').keyup(function(){$('#s_address-result ul').empty();var searchField=$('#s_address').val();if(searchField!=''){var expression=new RegExp(searchField,"i");$('.live-search-result').addClass('d-none');$('#s_address-result').removeClass('d-none');$.getJSON('/wp-content/uploads/properties/properties_name.json',function(data){var n=0;$.each(data,function(key,value){if(value.address.search(expression)!=-1){n++;if(n>10){return!1}else{$('#s_address-result ul').append('<li><a href="'+value.url+'"><img src="'+value.img+'" alt="'+value.title+'"><div><span>'+value.title+'</span><span class="address">'+value.address+'</span></div></a></li>')}}})})}});$("#s_address").focus(function(){$('.live-search-result').addClass('d-none');$('#s_address-result').removeClass('d-none')});$('#sqr').keyup(function(){$('#s_sqr-result ul').empty();var searchField=$('#sqr').val();if(searchField!=''){var expression=new RegExp(searchField,"i");$.getJSON('/wp-content/uploads/properties/properties_name.json',function(data){var n=0;$.each(data,function(key,value){if(value.title.search(expression)!=-1||value.address.search(expression)!=-1){n++;if(n>10){return!1}else{$('#s_sqr-result ul').append('<li><a href="'+value.url+'"><img src="'+value.img+'" alt="'+value.title+'"><div><span>'+value.title+'</span><span class="address">'+value.address+'</span></div></a></li>')}}})})}});$("#sqr").focus(function(){$('.live-search-result').addClass('d-none');$('#s_sqr-result').removeClass('d-none')});$('#sqr-2').keyup(function(){$('#s_sqr-result-2 ul').empty();var searchField=$('#sqr').val();if(searchField!=''){var expression=new RegExp(searchField,"i");$.getJSON('/wp-content/uploads/properties/properties_name.json',function(data){var n=0;$.each(data,function(key,value){if(value.title.search(expression)!=-1||value.address.search(expression)!=-1){n++;if(n>10){return!1}else{$('#s_sqr-result-2 ul').append('<li><a href="'+value.url+'"><img src="'+value.img+'" alt="'+value.title+'"><div><span>'+value.title+'</span><span class="address">'+value.address+'</span></div></a></li>')}}})})}});$("#sqr-2").focus(function(){$('.live-search-result').addClass('d-none');$('#s_sqr-result-2').removeClass('d-none')});$('#add').keyup(function(){$('#s_add-result ul').empty();var searchField=$('#add').val();if(searchField!=''){var expression=new RegExp(searchField,"i");$('.live-search-result').addClass('hidden');$('#s_add-result').removeClass('hidden');$.getJSON('/wp-content/uploads/properties/properties_name.json',function(data){var n=0;$.each(data,function(key,value){if(value.address.search(expression)!=-1){n++;if(n>10){return!1}else{$('#s_add-result ul').append('<li><a href="'+value.url+'"><img src="'+value.img+'" alt="'+value.title+'"><div><span>'+value.title+'</span><span class="address">'+value.address+'</span></div></a></li>')}}})})}});$("#add").focus(function(){$('.live-search-result').addClass('d-none');$('#s_add-result').removeClass('d-none')});$('#add-2').keyup(function(){$('#s_add-result-2 ul').empty();var searchField=$('#add-2').val();if(searchField!=''){var expression=new RegExp(searchField,"i");$('.live-search-result').addClass('d-none');$('#s_add-result-2').removeClass('d-none');$.getJSON('/wp-content/uploads/properties/properties_name.json',function(data){var n=0;$.each(data,function(key,value){if(value.address.search(expression)!=-1){n++;if(n>10){return!1}else{$('#s_add-result-2 ul').append('<li><a href="'+value.url+'"><img src="'+value.img+'" alt="'+value.title+'"><div><span>'+value.title+'</span><span class="address">'+value.address+'</span></div></a></li>')}}})})}});$("#add-2").focus(function(){$('.live-search-result').addClass('d-none');$('#s_add-result-2').removeClass('d-none')})});var map=null;$(window).scroll(function(){if(($(".map-scroll-to").length>0)){var hT=$('.map-scroll-to').offset().top,hH=$('.map-scroll-to').outerHeight(),wH=$(window).height(),wS=$(this).scrollTop();if(wS>(hT+hH-wH)){if($(".acf-map").hasClass("map-active")){}else{$('.acf-map').each(function(){map=new_map($(this));$(".acf-map").addClass('map-active')})}}}});function init_slick_submenu(){$('.sub-menu ul').slick({dots:!1,arrows:!1,infinite:!1,slidesToShow:2,slidesToScroll:1,variableWidth:!0,focusOnSelect:!0,})}
function init_slick_leader(){$('.leader-grid').slick({dots:!0,arrows:!0,infinite:!1,slidesToShow:2,slidesToScroll:1,variableWidth:!0})}
function startCounter(){if($('#section-home-counter').length==0){return}
let scrollY=(window.pageYOffset||document.documentElement.scrollTop)+window.innerHeight;let divPos=document.querySelector('#section-home-counter').offsetTop;if(scrollY>divPos){$(window).off("scroll",startCounter);$('.number span').each(function(){var $this=$(this);jQuery({Counter:1}).animate({Counter:$this.text().replace(/,/g,'')},{duration:2000,easing:'swing',step:function(){$this.text(commaSeparateNumber(Math.floor(this.Counter)))},complete:function(){$this.text(commaSeparateNumber(this.Counter))}})});function commaSeparateNumber(num){return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}
function new_map($el){var $markers=$el.find('.marker');var customIcon=new google.maps.MarkerImage(stylesheet_directory_uri+"/assets/images/map-marker-blue-fat.png",null,null,null,new google.maps.Size(50,69));var args={zoom:16,center:new google.maps.LatLng(0,0),mapTypeId:google.maps.MapTypeId.ROADMAP};var map=new google.maps.Map($el[0],args);map.markers=[];$markers.each(function(){add_marker(jQuery(this),map,customIcon)});center_map(map);return map}
function add_marker($marker,map,customIcon){var latlng=new google.maps.LatLng($marker.attr('data-lat'),$marker.attr('data-lng'));var contentString='<img src="'+$marker.attr('data-img')+'"><p>'+$marker.attr('data-title')+'</p>';var infowindow=new google.maps.InfoWindow({content:contentString});var marker=new google.maps.Marker({position:latlng,map:map,icon:customIcon,});map.markers.push(marker);infowindow.open(map,marker)}
function center_map(map){var bounds=new google.maps.LatLngBounds();jQuery.each(map.markers,function(i,marker){var latlng=new google.maps.LatLng(marker.position.lat(),marker.position.lng());bounds.extend(latlng)});if(map.markers.length==1){map.setCenter(bounds.getCenter())}else{map.fitBounds(bounds)}}