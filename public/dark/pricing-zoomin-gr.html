<!DOCTYPE html>
<html lang="vi-VN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LAZINET - Minh họa Nhóm Sản Phẩm</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Instrument+Sans:wght@400..700&family=Geist:wght@300..700&display=swap">
    <style>
        :root {
            --primary-color: #FFFFFF;
            --secondary-color: #FFFFFF0A;
            --orange-main: #ff5000;
            --orange-light: #FFbbbb;
            --blue-main: blue;
            --blue-light: #ccccff;
            --text-color: #FFFFFF;
            --accent-color: #3F82FB;
            --accent-secondary-color: #0F2453;
            --bg-color: #0F162C;
            --white-color: #FFFFFF;
            --black-color: #000000;
            --divider-color: #FFFFFF1A;
            --error-color: rgb(230, 87, 87);
            --default-font: "Instrument Sans", "Geist", "Inter", system-ui, sans-serif;
        }
        body {
            margin: 0;
            padding: 0;
            background: var(--bg-color);
            font-family: var(--default-font);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
            color: var(--text-color);
        }
        canvas {
            border: 1px solid var(--divider-color);
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            cursor: pointer;
            background: var(--bg-color);
        }
        .info {
            position: absolute;
            top: 20px;
            left: 20px;
            background: var(--bg-color);
            border: 1px solid var(--divider-color);
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            color: var(--text-color);
        }
        .info h2 {
            margin: 0 0 10px;
            color: var(--accent-color);
            font-weight: 600;
        }
        .info p {
            margin: 0;
            color: var(--text-color);
            opacity: 0.8;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="info">
        <h2>Nhóm Sản Phẩm LAZINET</h2>
        <p>Bấm vào hạt nhân trung tâm để xem bảng giá chi tiết.</p>
    </div>
    <canvas id="graphCanvas" width="800" height="600"></canvas>

    <script>
        const canvas = document.getElementById('graphCanvas');
        const ctx = canvas.getContext('2d');
        const categories = ['Web', 'Ap', 'AI', 'eSign', 'eInvoice', 'eContract'];
        
        // Extract CSS variables for use in JS
        const root = getComputedStyle(document.documentElement);
        const dividerColor = root.getPropertyValue('--divider-color').trim();
        const whiteColor = root.getPropertyValue('--white-color').trim();
        const accentColor = root.getPropertyValue('--accent-color').trim();
        const defaultFont = root.getPropertyValue('--default-font').trim();
        
        // Màu sắc tone tối cho electrons (dark variants)
        const electronColors = [
            '#8B0000', // Dark red
            '#006400', // Dark green
            '#00008B', // Dark blue
            '#4B0082', // Dark indigo
            '#8B4513', // Saddle brown (dark orange)
            '#2F4F4F'  // Dark slate gray
        ];
        
        // Nucleus config
        const nucleus = {
            label: 'LAZINET',
            x: canvas.width / 2,
            y: canvas.height / 2,
            radius: 60,
            color: accentColor, // #3F82FB
            hovered: false
        };
        
        // Animation config
        const numElectrons = categories.length;
        const maxRadius = 250;
        const baseRadius = 30;
        const animationDuration = 2000; // ms per electron
        const delayBetween = 300; // ms delay between electrons
        let startTime = Date.now();
        let currentElectronIndex = 0;
        let cycleStartTime = startTime;
        
        // Tạo electrons với góc cố định (không quay, chỉ dùng cho vị trí target nếu cần, nhưng animation là radial burst)
        let electrons = [];
        for (let i = 0; i < numElectrons; i++) {
            const angle = (i / numElectrons) * 2 * Math.PI;
            electrons.push({
                label: categories[i],
                startAngle: 0, // Bắt đầu từ center
                targetAngle: angle,
                color: electronColors[i],
                hovered: false
            });
        }
        
        // Vẽ graph với animation
        function drawGraph() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const now = Date.now();
            const elapsed = now - cycleStartTime;
            const electronIndex = Math.floor(elapsed / (animationDuration + delayBetween));
            const localElapsed = (elapsed % (animationDuration + delayBetween)) % animationDuration;
            
            currentElectronIndex = electronIndex % numElectrons;
            
            const centerX = nucleus.x;
            const centerY = nucleus.y;
            
            // Vẽ nucleus
            ctx.beginPath();
            ctx.arc(centerX, centerY, nucleus.radius, 0, 2 * Math.PI);
            ctx.fillStyle = nucleus.hovered ? accentColor + '80' : accentColor;
            ctx.fill();
            ctx.strokeStyle = whiteColor;
            ctx.lineWidth = 3;
            ctx.stroke();
            
            // Vẽ label nucleus
            ctx.fillStyle = whiteColor;
            ctx.font = `bold 16px ${defaultFont}`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(nucleus.label, centerX, centerY);
            
            // Animate current electron: radial burst from center
            if (localElapsed < animationDuration) {
                const progress = localElapsed / (animationDuration / 2); // Split: first half expand, second half fade
                
                let currentRadius, currentScale, currentOpacity;
                
                if (localElapsed < animationDuration / 2) {
                    // Expand phase: radius from 0 to max, scale from 0 to 1
                    currentRadius = maxRadius * (localElapsed / (animationDuration / 2));
                    currentScale = localElapsed / (animationDuration / 2);
                    currentOpacity = 1;
                } else {
                    // Fade phase: radius stays max, scale to 1.5 then hold, opacity to 0
                    currentRadius = maxRadius;
                    currentScale = 1 + 0.5 * ((localElapsed - animationDuration / 2) / (animationDuration / 2)); // Zoom to 1.5
                    currentOpacity = 1 - ((localElapsed - animationDuration / 2) / (animationDuration / 2));
                }
                
                const currentElectron = electrons[currentElectronIndex];
                const angle = currentElectron.startAngle + (currentElectron.targetAngle - currentElectron.startAngle) * (localElapsed / animationDuration); // Smooth angle if needed, but start from 0
                
                const x = centerX + currentRadius * Math.cos(angle);
                const y = centerY + currentRadius * Math.sin(angle);
                
                // Vẽ connection line (optional, fade with opacity)
                ctx.strokeStyle = dividerColor.replace('1A', (parseInt('1A', 16) * currentOpacity).toString(16).padStart(2, '0').toUpperCase());
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(x, y);
                ctx.stroke();
                
                // Vẽ electron circle
                ctx.save();
                ctx.globalAlpha = currentOpacity;
                ctx.beginPath();
                ctx.arc(x, y, baseRadius * currentScale, 0, 2 * Math.PI);
                ctx.fillStyle = currentElectron.color;
                ctx.fill();
                ctx.strokeStyle = whiteColor;
                ctx.lineWidth = 2;
                ctx.stroke();
                
                // Vẽ label inside circle (always upright)
                ctx.fillStyle = whiteColor;
                ctx.font = `bold 11px ${defaultFont}`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(currentElectron.label, x, y);
                ctx.restore();
            }
            
            // Reset cycle if all done (loop infinitely)
            if (electronIndex >= numElectrons) {
                cycleStartTime = now;
            }
        }
        
        // Xử lý hover (chỉ cho nucleus)
        canvas.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            const mouseY = e.clientY - rect.top;
            
            const distToNucleus = Math.sqrt((mouseX - nucleus.x)**2 + (mouseY - nucleus.y)**2);
            nucleus.hovered = distToNucleus < nucleus.radius;
            
            canvas.style.cursor = nucleus.hovered ? 'pointer' : 'default';
        });
        
        // Xử lý click: Chỉ nucleus dẫn đến bảng giá
        canvas.addEventListener('click', (e) => {
            const rect = canvas.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            const mouseY = e.clientY - rect.top;
            
            const distToNucleus = Math.sqrt((mouseX - nucleus.x)**2 + (mouseY - nucleus.y)**2);
            if (distToNucleus < nucleus.radius) {
                // Link đến bảng giá
                window.open('lazinet-support-pricing.html', '_blank'); // Mở tab mới
                // location.href = 'lazinet-support-pricing.html'; // Hoặc thay thế trang hiện tại
            }
        });
        
        // Animation loop
        function animate() {
            drawGraph();
            requestAnimationFrame(animate);
        }
        
        // Bắt đầu animation
        animate();
    </script>
</body>
</html>