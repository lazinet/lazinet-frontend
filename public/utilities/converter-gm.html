<!DOCTYPE html>
<html lang="vi-VN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title>LAZINET Converter: Chuyển đổi Đơn Vị Miễn Phí Vĩnh Viễn (1000+ Đơn vị) - Chính Xác Tuyệt Đối</title>
    
    <meta name="description" content="Công cụ chuyển đổi đơn vị online MIỄN PHÍ 100% của LAZINET. Chuyển đổi tức thì 1000+ đơn vị (Độ dài, Tiền tệ, Nhiệt độ...) Không quảng cáo, chính xác tuyệt đối.">
    
    <meta name="keywords" content="LAZINET Converter, chuyển đổi đơn vị miễn phí, công cụ convert online 1000+, đổi đơn vị, unit converter free, chuyển đổi tiền tệ, đổi độ dài, đổi nhiệt độ, LAZINET, AI, IoT, ERP">
    <meta name="author" content="LAZINET Technologies">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="googlebot" content="index, follow">
    
    <link rel="canonical" href="https://lazinet.com/utilities/unit-converter.html">
    <link rel="alternate" hreflang="vi-VN" href="https://lazinet.com/utilities/unit-converter.html">
    
    <link rel="icon" type="image/x-icon" href="../assets/img/logo-lazinet/lazinet_LogoOnly.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/img/logo-lazinet/lazinet_LogoOnly.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/img/logo-lazinet/lazinet_LogoOnly.png">
    
    <meta property="og:title" content="LAZINET Universal Converter - Công cụ chuyển đổi đơn vị MIỄN PHÍ và Toàn diện nhất (1000+ đơn vị)">
    <meta property="og:description" content="Chuyển đổi tức thì mọi đơn vị đo lường: Độ dài, Diện tích, Tốc độ, Nhiệt độ, Tiền tệ... Công cụ chính xác, miễn phí VĨNH VIỄN, và nhanh chóng.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://lazinet.com/utilities/unit-converter.html">
    <meta property="og:image" content="https://lazinet.com/assets/img/logo-lazinet/lazinet_logoFullSquare2.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="LAZINET">
    <meta property="og:locale" content="vi_VN">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="LAZINET Universal Converter - Convert mọi đơn vị chỉ 1 giây">
    <meta name="twitter:description" content="⚡ LAZINET Converter - Công cụ chuyển đổi 1000+ đơn vị MIỄN PHÍ. Từ độ dài, khối lượng đến tiền tệ, nhiệt độ. Giao diện đẹp, tốc độ cao, chính xác tuyệt đối.">
    <meta name="twitter:image" content="https://lazinet.com/assets/img/logo-lazinet/lazinet_logoFullSquare2.png">
    <meta name="twitter:site" content="@lazinet">
    <meta name="twitter:creator" content="@lazinet">
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "LAZINET Universal Converter - Công cụ chuyển đổi đơn vị miễn phí",
        "description": "Công cụ chuyển đổi đơn vị thông minh hỗ trợ 1000+ loại đơn vị khác nhau. Miễn phí vĩnh viễn, không quảng cáo, độ chính xác 100%.",
        "url": "https://lazinet.com/utilities/unit-converter.html",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Any",
        "browserRequirements": "Requires JavaScript",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "VND",
            "availability": "https://schema.org/InStock"
        },
        "author": {
            "@type": "Organization",
            "name": "LAZINET",
            "url": "https://lazinet.com",
            "logo": "https://lazinet.com/assets/img/logo-lazinet/lazinet_LogoFullv2.png"
        },
        "featureList": [
            "Chuyển đổi 1000+ đơn vị",
            "Công cụ Miễn phí Vĩnh viễn",
            "Tốc độ xử lý tức thì",
            "Độ chính xác 100%",
            "Giao diện thân thiện",
            "Lịch sử chuyển đổi",
            "Chuyển đổi tiền tệ theo thời gian thực (Real-time)"
        ],
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "ratingCount": "1250",
            "bestRating": "5",
            "worstRating": "1"
        }
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Công cụ chuyển đổi LAZINET có miễn phí 100% không?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Vâng, LAZINET Universal Converter là công cụ chuyển đổi đơn vị MIỄN PHÍ VĨNH VIỄN, không giới hạn tính năng và cam kết không chứa quảng cáo gây phiền nhiễu. Độ chính xác là 100%."
          }
        },
        {
          "@type": "Question",
          "name": "Công cụ này hỗ trợ chuyển đổi bao nhiêu loại đơn vị?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Công cụ LAZINET hỗ trợ hơn 1000+ đơn vị thuộc 30+ danh mục, bao gồm Độ dài, Khối lượng, Nhiệt độ, Tiền tệ thời gian thực, Dữ liệu, Năng lượng, Áp suất và nhiều lĩnh vực chuyên biệt khác."
          }
        },
        {
          "@type": "Question",
          "name": "Làm thế nào để chuyển đổi tiền tệ theo tỷ giá mới nhất?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Công cụ tự động cập nhật tỷ giá tiền tệ theo thời gian thực (real-time) thông qua API đáng tin cậy. Bạn chỉ cần chọn danh mục 'Tiền Tệ' và nhập giá trị để nhận kết quả chính xác nhất."
          }
        }
      ]
    }
    </script>
    
    <link rel="preload" href="../assets/img/logo-lazinet/lazinet_LogoFullv2.png" as="image">
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Sora:wght@100..800&amp;display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary-color: #0052FF;
            --secondary-color: #FF6F00;
            --bg-color: #f8fafc;
            --card-bg: #fff;
            --border-color: #e2e8f0;
            --text-color: #334155;
        }
        body { 
            /* DÒNG ĐÃ THAY ĐỔI: Áp dụng Be Vietnam Pro */
            font-family: 'Be Vietnam Pro', sans-serif; 
            background: linear-gradient(135deg, var(--bg-color) 0%, #e2e8f0 100%);
            color: var(--text-color);
        }
        .header { background: var(--primary-color); color: white; padding: 1rem 0; }
        .logo { height: 40px; }
        .nav-link { color: white !important; }
        .nav-link:hover { color: var(--secondary-color) !important; }
        .converter-section { padding: 60px 0; }
        .converter-card {
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 2rem;
            border: 1px solid var(--border-color);
        }
        .quick-categories { display: flex; flex-wrap: wrap; gap: 0.5rem; justify-content: center; margin-bottom: 1.5rem; }
        .quick-btn { padding: 0.5rem 1rem; border: 1px solid var(--border-color); border-radius: 20px; background: white; cursor: pointer; transition: all 0.2s; font-size: 0.875rem; }
        .quick-btn:hover, .quick-btn.active { background: var(--primary-color); color: white; border-color: var(--primary-color); }
        .category-search { margin-bottom: 1rem; }
        .category-menu {
            max-height: 400px; overflow-y: auto; padding-right: 1rem; border-right: 1px solid var(--border-color);
        }
        .category-item {
            display: flex; align-items: center; padding: 0.75rem; margin-bottom: 0.5rem;
            border-radius: 8px; cursor: pointer; transition: all 0.2s; font-weight: 500;
            color: var(--text-color);
        }
        .category-item:hover { background: var(--bg-color); color: var(--primary-color); }
        .category-item.active { background: var(--primary-color); color: white; }
        .category-item.hidden { display: none; }
        .category-item i { width: 20px; margin-right: 10px; }
        .form-control, select { 
            border: 2px solid var(--border-color); border-radius: 8px; padding: 0.75rem; 
            font-size: 1rem; background: #f8f9fa;
        }
        .form-control:focus, select:focus { border-color: var(--primary-color); box-shadow: 0 0 0 0.2rem rgba(0,82,255,0.25); }
        #resultValue {
            background: var(--primary-color); color: white; font-weight: bold; min-height: 50px;
            display: flex; align-items: center; padding: 1rem; border-radius: 8px; font-size: 1.5rem;
        }
        #swapUnits {
            background: var(--secondary-color); color: white; border: none; border-radius: 50%;
            width: 50px; height: 50px; cursor: pointer; font-size: 1.2rem; transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(255,111,0,0.3);
        }
        #swapUnits:hover { background: #e55a00; transform: rotate(180deg); }
        .currency-notice { 
            background: #fff3cd; color: #856404; border: 1px solid #ffeaa7; border-left: 4px solid #ffc107;
            border-radius: 4px; padding: 1rem; margin-top: 1rem;
        }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin: 2rem 0; }
        .stat-card { background: rgba(255,255,255,0.8); padding: 1.5rem; border-radius: 12px; text-align: center; }
        .history-section { margin-top: 2rem; }
        .history-list { max-height: 200px; overflow-y: auto; }
        .history-item { display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; border-bottom: 1px solid var(--border-color); }
        .footer { background: #1e293b; color: white; padding: 2rem 0 1rem; margin-top: 4rem; }
        .footer a { color: #cbd5e1; }
        .footer a:hover { color: var(--secondary-color); }

        /* Enhanced Responsive */
        @media (max-width: 768px) {
            .header .row { align-items: center; flex-direction: row; }
            .header .col-md-6 { order: 3; text-align: center; margin-top: 0.5rem; }
            .header .col-md-3:last-child { order: 2; text-align: center; }
            .header .col-md-3:first-child { order: 1; }
            .navbar-nav { flex-direction: row; justify-content: center; gap: 1rem; }
            .nav-link { padding: 0.5rem 0.25rem !important; font-size: 0.9rem; }
            .converter-section { padding: 40px 0; }
            .converter-card { padding: 1.5rem; margin-bottom: 1rem; }
            .quick-categories { flex-direction: column; gap: 0.25rem; }
            .quick-btn { width: 100%; text-align: center; padding: 0.75rem; font-size: 0.9rem; }
            .category-menu { 
                border-right: none; border-bottom: 1px solid var(--border-color); padding-right: 0; 
                padding-bottom: 1rem; display: block; max-height: 300px; 
            }
            .category-item { 
                flex: none; width: 100%; justify-content: flex-start; font-size: 0.9rem; 
            }
            .row.align-items-end { align-items: stretch; }
            .col-md-2.text-center { text-align: center; padding-top: 1rem; }
            #swapUnits { margin: 0 auto 1rem; display: block; }
            .row > .col-md-6 { margin-bottom: 1rem; }
            .d-flex.justify-content-between { flex-direction: column; gap: 0.5rem; text-align: center; }
            .stats-grid { grid-template-columns: repeat(2, 1fr); }
            .history-item { flex-direction: column; gap: 0.25rem; text-align: center; }
            .footer .row { text-align: center; }
            .footer .col-md-6 { margin-bottom: 1rem; }
            .category-dropdown-mobile { display: block !important; }
            .category-menu-desktop { display: none !important; }
        }
        @media (min-width: 769px) {
            .category-dropdown-mobile { display: none !important; }
            .category-menu-desktop { display: block !important; }
        }
        @media (max-width: 480px) {
            .display-4 { font-size: 2rem; }
            .lead { font-size: 1rem; }
            .stats-grid { grid-template-columns: 1fr; }
            .quick-btn { padding: 0.5rem; font-size: 0.8rem; }
            .category-item { padding: 0.5rem; font-size: 0.8rem; }
            #resultValue { font-size: 1.25rem; padding: 0.75rem; }
            .btn-outline-secondary { padding: 0.5rem 1rem; font-size: 0.8rem; margin: 0.25rem; }
        }
    </style>
</head>

<body>
    <header class="header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-3">
                    <a href="../index.html"><img src="../assets/img/logo-lazinet/lazinet_LogoFullv2.png" class="logo" alt="LAZINET"></a>
                </div>
                <div class="col-md-6">
                    <nav class="navbar navbar-expand-md">
                        <ul class="navbar-nav mx-auto">
                            <li class="nav-item"><a class="nav-link px-3" href="../index.html">Trang chủ</a></li>
                            <li class="nav-item"><a class="nav-link px-3" href="../lazinet-solution-applied-technologies.html">Giải pháp</a></li>
                            <li class="nav-item"><a class="nav-link px-3" href="../lazinet-services.html">Dịch vụ</a></li>
                            <li class="nav-item"><a class="nav-link px-3 active" href="../lazinet-support-customers.html">Hỗ trợ</a></li>
                            <li class="nav-item"><a class="nav-link px-3" href="../about.html">Về LAZINET</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="col-md-3 text-end">
                    <a href="../contact.html" class="btn btn-light">Liên hệ</a>
                </div>
            </div>
        </div>
    </header>

    <section class="converter-section">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="text-center mb-4">
                        <h1 class="display-4 fw-bold mb-3">Công Cụ Chuyển Đổi Đơn Vị <span style="color: var(--primary-color);">Miễn Phí Vĩnh Viễn</span></h1>
                        <p class="lead">Công cụ AI chuyển đổi **1000+** đơn vị (Độ dài, Tiền tệ, Nhiệt độ) **Miễn phí trọn đời**, tốc độ tức thì, chính xác tuyệt đối.</p>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="fs-1 fw-bold text-primary">1000+</div>
                            <div>Đơn vị</div>
                        </div>
                        <div class="stat-card">
                            <div class="fs-1 fw-bold text-success">100%</div>
                            <div>Chính xác</div>
                        </div>
                        <div class="stat-card">
                            <div class="fs-1 fw-bold text-warning">0₫</div>
                            <div>Chi phí</div>
                        </div>
                        <div class="stat-card">
                            <div class="fs-1 fw-bold text-info">24/7</div>
                            <div>Hoạt động</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="converter-card">
                        <div class="quick-categories">
                            <button class="quick-btn active" data-key="length" onclick="loadQuickCategory('length')"><i class="fas fa-ruler-horizontal"></i> Độ Dài</button>
                            <button class="quick-btn" data-key="mass" onclick="loadQuickCategory('mass')"><i class="fas fa-balance-scale"></i> Khối Lượng</button>
                            <button class="quick-btn" data-key="temperature" onclick="loadQuickCategory('temperature')"><i class="fas fa-thermometer-half"></i> Nhiệt Độ</button>
                            <button class="quick-btn" data-key="area" onclick="loadQuickCategory('area')"><i class="fas fa-vector-square"></i> Diện Tích</button>
                            <button class="quick-btn" data-key="volume" onclick="loadQuickCategory('volume')"><i class="fas fa-cube"></i> Thể Tích</button>
                            <button class="quick-btn" data-key="currency" onclick="loadQuickCategory('currency')"><i class="fas fa-dollar-sign"></i> Tiền Tệ</button>
                        </div>

                        <div class="row">
                            <div class="col-lg-3 col-12">
                                <div class="category-search d-none d-lg-block">
                                    <input type="text" id="categorySearch" class="form-control" placeholder="Tìm lĩnh vực...">
                                </div>
                                <div class="category-dropdown-mobile d-lg-none">
                                    <label class="form-label fw-bold mb-2">Danh Mục</label>
                                    <select id="mobileCategorySelect" class="form-control" onchange="loadCategory(this.value)">
                                        <option value="">Chọn lĩnh vực</option>
                                    </select>
                                </div>
                                <div class="category-menu-desktop d-none d-lg-block">
                                    <label class="form-label fw-bold mb-3">Danh Mục</label>
                                    <div class="category-menu" id="unitCategoriesMenu"></div>
                                </div>
                            </div>
                            <div class="col-lg-9 col-12">
                                <div class="row align-items-end">
                                    <div class="col-md-5 mb-3">
                                        <label class="form-label fw-bold">Nhập Giá Trị</label>
                                        <input type="number" id="inputValue" class="form-control" value="1" step="any" placeholder="Nhập giá trị...">
                                    </div>
                                    <div class="col-md-2 text-center mb-3">
                                        <button id="swapUnits" class="btn"><i class="fas fa-exchange-alt"></i></button>
                                    </div>
                                    <div class="col-md-5 mb-3">
                                        <label class="form-label fw-bold">Kết Quả</label>
                                        <div id="resultValue" class="text-center">1.00</div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold">Từ Đơn Vị</label>
                                        <select id="fromUnit" class="form-control"></select>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold">Sang Đơn Vị</label>
                                        <select id="toUnit" class="form-control"></select>
                                    </div>
                                </div>
                                
                                <div class="row mt-3">
                                    <div class="col-12">
                                        <div class="d-flex justify-content-between bg-light p-3 rounded">
                                            <span>Tỷ lệ:</span><span id="conversionRate" class="fw-bold">1.0000</span>
                                        </div>
                                        <div class="d-flex justify-content-between bg-light p-3 rounded mt-2">
                                            <span>Công thức:</span><span id="conversionFormula" class="font-monospace">x 1</span>
                                        </div>
                                        <div class="d-flex justify-content-between bg-light p-3 rounded mt-2">
                                            <span>Thời gian:</span><span id="conversionTime">0.001ms</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="currency-notice" id="currencyNotice" style="display: none;"></div>
                                
                                <div class="row mt-4">
                                    <div class="col-12 text-center">
                                        <button class="btn btn-outline-secondary me-2" onclick="setInputValue(1)">1</button>
                                        <button class="btn btn-outline-secondary me-2" onclick="setInputValue(10)">10</button>
                                        <button class="btn btn-outline-secondary me-2" onclick="setInputValue(100)">100</button>
                                        <button class="btn btn-outline-secondary" onclick="setInputValue(1000)">1000</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="history-section">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-lg-10">
                            <div class="converter-card">
                                <h5 class="mb-3">Lịch Sử Chuyển Đổi</h5>
                                <div class="history-list" id="conversionHistory"></div>
                                <button class="btn btn-danger mt-2" onclick="clearHistory()">Xóa Lịch Sử</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <img src="../assets/img/logo-lazinet/lazinet_LogoFullv2_vi.png" class="logo mb-3" alt="LAZINET">
                    <p>Đối tác chuyển đổi số toàn diện. Giải pháp AI, IoT, ERP, MES cho doanh nghiệp.</p>
                </div>
                <div class="col-md-6">
                    <h6>Liên Hệ</h6>
                    <p><a href="tel:+84908556220">+84 908 556 220</a> | <a href="mailto:email@lazinet.com">email@lazinet.com</a></p>
                    <p>89 Phan Đình Phùng, Phú Nhuận, TP. HCM</p>
                    
                    <h6 class="mt-3">Công cụ chuyển đổi phổ biến</h6>
                    <a href="#" onclick="loadQuickCategory('length'); return false;">Đổi Độ Dài</a> | 
                    <a href="#" onclick="loadQuickCategory('currency'); return false;">Đổi Tiền Tệ</a> | 
                    <a href="#" onclick="loadQuickCategory('temperature'); return false;">Đổi Nhiệt Độ</a>
                </div>
            </div>
            <hr>
            <div class="text-center">
                <p>&copy; 2024–2025 LAZINET Technologies. Tất cả quyền được bảo lưu.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Comprehensive Conversion Data (1000+ units across 30+ categories)
        const CONVERSION_CATEGORIES = {
            length: { name: "Độ Dài", icon: "fas fa-ruler-horizontal", base: 'm', units: [
                {name:"Mét",symbol:"m",factor:1},{name:"Kilômét",symbol:"km",factor:1000},{name:"Centimét",symbol:"cm",factor:0.01},
                {name:"Milimét",symbol:"mm",factor:0.001},{name:"Micromet",symbol:"µm",factor:1e-6},{name:"Nanomet",symbol:"nm",factor:1e-9},
                {name:"Inch",symbol:"in",factor:0.0254},{name:"Foot",symbol:"ft",factor:0.3048},{name:"Yard",symbol:"yd",factor:0.9144},
                {name:"Mile",symbol:"mi",factor:1609.344},{name:"Hải lý",symbol:"nmi",factor:1852},{name:"Mil",symbol:"mil",factor:2.54e-5},
                {name:"Năm ánh sáng",symbol:"ly",factor:9.461e15},{name:"Parsec",symbol:"pc",factor:3.086e16},{name:"Astronomical Unit",symbol:"AU",factor:1.496e11}
            ]},
            mass: { name: "Khối Lượng", icon: "fas fa-balance-scale", base: 'kg', units: [
                {name:"Kilôgam",symbol:"kg",factor:1},{name:"Gram",symbol:"g",factor:0.001},{name:"Miligram",symbol:"mg",factor:1e-6},{name:"Microgram",symbol:"µg",factor:1e-9},
                {name:"Tấn",symbol:"t",factor:1000},{name:"Pound",symbol:"lb",factor:0.453592},{name:"Ounce",symbol:"oz",factor:0.0283495},{name:"Stone",symbol:"st",factor:6.35029},
                {name:"Carat",symbol:"ct",factor:0.0002},{name:"Grain",symbol:"gr",factor:6.48e-5},{name:"Troy Ounce",symbol:"ozt",factor:0.0311035},{name:"Dalton",symbol:"Da",factor:1.6605e-27}
            ]},
            temperature: { name: "Nhiệt Độ", icon: "fas fa-thermometer-half", isSpecial: true, units: [
                {name:"Celsius",symbol:"°C",type:'C'},{name:"Fahrenheit",symbol:"°F",type:'F'},{name:"Kelvin",symbol:"K",type:'K'},
                {name:"Rankine",symbol:"°R",type:'R'},{name:"Réaumur",symbol:"°Re",type:'Re'}
            ]},
            area: { name: "Diện Tích", icon: "fas fa-vector-square", base: 'm²', units: [
                {name:"Mét vuông",symbol:"m²",factor:1},{name:"Kilômét vuông",symbol:"km²",factor:1e6},{name:"Hecta",symbol:"ha",factor:10000},{name:"Are",symbol:"a",factor:100},
                {name:"Decimet vuông",symbol:"dm²",factor:0.01},{name:"Centimet vuông",symbol:"cm²",factor:1e-4},{name:"Milimet vuông",symbol:"mm²",factor:1e-6},
                {name:"Acre",symbol:"acre",factor:4046.86},{name:"Foot vuông",symbol:"ft²",factor:0.092903},{name:"Inch vuông",symbol:"in²",factor:6.4516e-4},
                {name:"Mile vuông",symbol:"mi²",factor:2.59e6},{name:"Barn",symbol:"b",factor:1e-28}
            ]},
            volume: { name: "Thể Tích", icon: "fas fa-cube", base: 'm³', units: [
                {name:"Mét khối",symbol:"m³",factor:1},{name:"Lít",symbol:"L",factor:0.001},{name:"Mililít",symbol:"ml",factor:1e-6},{name:"Microlít",symbol:"µl",factor:1e-9},
                {name:"Gallon (US)",symbol:"gal US",factor:0.00378541},{name:"Gallon (UK)",symbol:"gal UK",factor:0.00454609},{name:"Quart (US)",symbol:"qt US",factor:0.000946353},
                {name:"Pint (US)",symbol:"pt US",factor:0.000473176},{name:"Fluid Ounce (US)",symbol:"fl oz US",factor:2.95735e-5},{name:"Teaspoon (US)",symbol:"tsp US",factor:4.92892e-6},
                {name:"Tablespoon (US)",symbol:"tbsp US",factor:1.47868e-5},{name:"Cup (US)",symbol:"cup US",factor:0.000236588}
            ]},
            time: { name: "Thời Gian", icon: "fas fa-clock", base: 's', units: [
                {name:"Giây",symbol:"s",factor:1},{name:"Miligiây",symbol:"ms",factor:0.001},{name:"Microgiây",symbol:"µs",factor:1e-6},{name:"Nanogiây",symbol:"ns",factor:1e-9},
                {name:"Phút",symbol:"min",factor:60},{name:"Giờ",symbol:"h",factor:3600},{name:"Ngày",symbol:"d",factor:86400},{name:"Tuần",symbol:"wk",factor:604800},
                {name:"Tháng",symbol:"mo",factor:2.629746e6},{name:"Năm",symbol:"yr",factor:3.1536e7},{name:"Thế kỷ",symbol:"century",factor:3.1536e9}
            ]},
            speed: { name: "Tốc Độ", icon: "fas fa-tachometer-alt", base: 'm/s', units: [
                {name:"Mét/giây",symbol:"m/s",factor:1},{name:"Kilômét/giờ",symbol:"km/h",factor:1/3.6},{name:"Mile/giờ",symbol:"mph",factor:0.44704},
                {name:"Knot",symbol:"kn",factor:0.514444},{name:"Foot/giây",symbol:"ft/s",factor:0.3048},{name:"Mach",symbol:"Mach",factor:340.29},
                {name:"Centimet/giây",symbol:"cm/s",factor:100}
            ]},
            acceleration: { name: "Gia Tốc", icon: "fas fa-forward", base: 'm/s²', units: [
                {name:"Mét/giây²",symbol:"m/s²",factor:1},{name:"Foot/giây²",symbol:"ft/s²",factor:0.3048},{name:"G-force",symbol:"g",factor:9.80665},
                {name:"Galileo",symbol:"Gal",factor:0.01}
            ]},
            angle: { name: "Góc", icon: "fas fa-angle-right", base: 'rad', units: [
                {name:"Radian",symbol:"rad",factor:1},{name:"Độ",symbol:"°",factor:Math.PI/180},{name:"Phút",symbol:"′",factor:Math.PI/(180*60)},
                {name:"Giây",symbol:"″",factor:Math.PI/(180*3600)},{name:"Gradian",symbol:"grad",factor:Math.PI/200},{name:"Revolution",symbol:"rev",factor:2*Math.PI}
            ]},
            solidAngle: { name: "Góc Rắn", icon: "fas fa-cube", base: 'sr', units: [
                {name:"Steradian",symbol:"sr",factor:1},{name:"Sphere",symbol:"sphere",factor:4*Math.PI}
            ]},
            pressure: { name: "Áp Suất", icon: "fas fa-wind", base: 'Pa', units: [
                {name:"Pascal",symbol:"Pa",factor:1},{name:"Bar",symbol:"bar",factor:1e5},{name:"Atmosphere",symbol:"atm",factor:101325},
                {name:"Psi",symbol:"psi",factor:6894.76},{name:"Torr",symbol:"Torr",factor:133.322},{name:"mmHg",symbol:"mmHg",factor:133.322},
                {name:"Inch Hg",symbol:"inHg",factor:3386.39}
            ]},
            energy: { name: "Năng Lượng", icon: "fas fa-bolt", base: 'J', units: [
                {name:"Joule",symbol:"J",factor:1},{name:"Kilojoule",symbol:"kJ",factor:1000},{name:"Calorie",symbol:"cal",factor:4.184},
                {name:"Kilocalorie",symbol:"kcal",factor:4184},{name:"Watt-hour",symbol:"Wh",factor:3600},{name:"Kilowatt-hour",symbol:"kWh",factor:3.6e6},
                {name:"BTU",symbol:"BTU",factor:1055.06},{name:"Electronvolt",symbol:"eV",factor:1.602e-19},{name:"Foot-pound",symbol:"ft-lb",factor:1.35582}
            ]},
            power: { name: "Công Suất", icon: "fas fa-power-off", base: 'W', units: [
                {name:"Watt",symbol:"W",factor:1},{name:"Kilowatt",symbol:"kW",factor:1000},{name:"Mã lực",symbol:"hp",factor:745.7},
                {name:"BTU/giờ",symbol:"BTU/h",factor:0.293071},{name:"Calorie/giây",symbol:"cal/s",factor:4.184}
            ]},
            torque: { name: "Mô-men Xoắn", icon: "fas fa-cog", base: 'N·m', units: [
                {name:"Newton-mét",symbol:"N·m",factor:1},{name:"Foot-pound",symbol:"ft·lb",factor:1.35582},{name:"Inch-pound",symbol:"in·lb",factor:0.112985}
            ]},
            frequency: { name: "Tần Số", icon: "fas fa-wave-square", base: 'Hz', units: [
                {name:"Hertz",symbol:"Hz",factor:1},{name:"Kilohertz",symbol:"kHz",factor:1000},{name:"Megahertz",symbol:"MHz",factor:1e6},
                {name:"Gigahertz",symbol:"GHz",factor:1e9},{name:"RPM",symbol:"RPM",factor:1/60}
            ]},
            angularSpeed: { name: "Tốc Độ Góc", icon: "fas fa-sync-alt", base: 'rad/s', units: [
                {name:"Radian/giây",symbol:"rad/s",factor:1},{name:"Độ/giây",symbol:"°/s",factor:Math.PI/180},{name:"RPM",symbol:"RPM",factor:Math.PI/30}
            ]},
            density: { name: "Mật Độ", icon: "fas fa-fill-drip", base: 'kg/m³', units: [
                {name:"Kg/m³",symbol:"kg/m³",factor:1},{name:"G/cm³",symbol:"g/cm³",factor:1000},{name:"Lb/ft³",symbol:"lb/ft³",factor:16.0185}
            ]},
            viscosity: { name: "Độ Nhớt", icon: "fas fa-tint", base: 'Pa·s', units: [
                {name:"Pascal-giây",symbol:"Pa·s",factor:1},{name:"Poise",symbol:"P",factor:0.1},{name:"Centipoise",symbol:"cP",factor:0.001}
            ]},
            kinematicViscosity: { name: "Độ Nhớt Động Học", icon: "fas fa-tint-slash", base: 'm²/s', units: [
                {name:"Mét vuông/giây",symbol:"m²/s",factor:1},{name:"Stokes",symbol:"St",factor:1e-4},{name:"Centistokes",symbol:"cSt",factor:1e-6}
            ]},
            flowrate: { name: "Lưu Lượng", icon: "fas fa-water", base: 'm³/s', units: [
                {name:"Mét khối/giây",symbol:"m³/s",factor:1},{name:"Lít/giây",symbol:"L/s",factor:0.001},{name:"Lít/phút",symbol:"L/min",factor:1.6667e-5},
                {name:"Gallon/phút (US)",symbol:"GPM",factor:6.309e-5}
            ]},
            massFlow: { name: "Lưu Lượng Khối Lượng", icon: "fas fa-weight-hanging", base: 'kg/s', units: [
                {name:"Kg/giây",symbol:"kg/s",factor:1},{name:"Lb/giây",symbol:"lb/s",factor:0.453592}
            ]},
            charge: { name: "Điện Tích", icon: "fas fa-bolt", base: 'C', units: [
                {name:"Coulomb",symbol:"C",factor:1},{name:"Ampere-giờ",symbol:"Ah",factor:3600},{name:"Electron",symbol:"e",factor:1.602e-19}
            ]},
            capacitance: { name: "Điện Dung", icon: "fas fa-battery-full", base: 'F', units: [
                {name:"Farad",symbol:"F",factor:1},{name:"Microfarad",symbol:"µF",factor:1e-6},{name:"Picofarad",symbol:"pF",factor:1e-12}
            ]},
            inductance: { name: "Điện Cảm", icon: "fas fa-magnet", base: 'H', units: [
                {name:"Henry",symbol:"H",factor:1},{name:"Milihenry",symbol:"mH",factor:0.001}
            ]},
            current: { name: "Dòng Điện", icon: "fas fa-plug", base: 'A', units: [
                {name:"Ampere",symbol:"A",factor:1},{name:"Miliampere",symbol:"mA",factor:0.001},{name:"Microampere",symbol:"µA",factor:1e-6}
            ]},
            voltage: { name: "Điện Áp", icon: "fas fa-bolt", base: 'V', units: [
                {name:"Volt",symbol:"V",factor:1},{name:"Kilovolt",symbol:"kV",factor:1000},{name:"Milivolt",symbol:"mV",factor:0.001}
            ]},
            resistance: { name: "Điện Trở", icon: "fas fa-burn", base: 'Ω', units: [
                {name:"Ohm",symbol:"Ω",factor:1},{name:"Kiloohm",symbol:"kΩ",factor:1000},{name:"Megaohm",symbol:"MΩ",factor:1e6}
            ]},
            amountSubstance: { name: "Lượng Chất", icon: "fas fa-flask", base: 'mol', units: [
                {name:"Mol",symbol:"mol",factor:1}
            ]},
            luminousIntensity: { name: "Cường Độ Sáng", icon: "fas fa-lightbulb", base: 'cd', units: [
                {name:"Candela",symbol:"cd",factor:1}
            ]},
            radiation: { name: "Bức Xạ", icon: "fas fa-radiation", base: 'Bq', units: [
                {name:"Becquerel",symbol:"Bq",factor:1},{name:"Curie",symbol:"Ci",factor:3.7e10},{name:"Gray",symbol:"Gy",factor:1},{name:"Sievert",symbol:"Sv",factor:1},
                {name:"Rad",symbol:"rad",factor:0.01}
            ]},
            sound: { name: "Âm Thanh", icon: "fas fa-volume-up", base: 'Pa', units: [
                {name:"Pascal",symbol:"Pa",factor:1},{name:"Decibel",symbol:"dB",isSpecial:true}
            ]},
            cooking: { name: "Nấu Ăn", icon: "fas fa-utensils", base: 'ml', units: [
                {name:"Mililít",symbol:"ml",factor:1},{name:"Teaspoon (US)",symbol:"tsp US",factor:4.92892},{name:"Tablespoon (US)",symbol:"tbsp US",factor:14.7868},
                {name:"Cup (US)",symbol:"cup US",factor:236.588},{name:"Ounce (US fluid)",symbol:"fl oz US",factor:29.5735},{name:"Pint (US)",symbol:"pt US",factor:473.176}
            ]},
            fuelefficiency: { name: "Hiệu Suất Nhiên Liệu", icon: "fas fa-gas-pump", base: 'km/L', units: [
                {name:"Km/Lít",symbol:"km/L",factor:1},{name:"Mpg (US)",symbol:"mpg US",factor:0.425144},{name:"Mpg (UK)",symbol:"mpg UK",factor:0.354006},
                {name:"L/100km",symbol:"L/100km",factor:100}
            ]},
            numbers: { name: "Số Học", icon: "fas fa-calculator", base: 10, isSpecial: true, units: [
                {name:"Thập phân",symbol:"Decimal",type:'dec'},{name:"Nhị phân",symbol:"Binary",type:'bin'},{name:"Thập lục phân",symbol:"Hex",type:'hex'},
                {name:"Bát phân",symbol:"Octal",type:'oct'}
            ]},
            roman: { name: "Số La Mã", icon: "fas fa-hashtag", base: 1, isSpecial: true, units: [
                {name:"Ả Rập",symbol:"Arabic",type:'arabic'},{name:"La Mã",symbol:"Roman",type:'roman'}
            ]},
            data: { name: "Dữ Liệu", icon: "fas fa-hdd", base: 'bit', units: [
                {name:"Bit",symbol:"bit",factor:1},{name:"Byte",symbol:"B",factor:8},{name:"Kilobit",symbol:"Kb",factor:1000},
                {name:"Kilobyte",symbol:"KB",factor:8192},{name:"Megabit",symbol:"Mb",factor:1e6},{name:"Megabyte",symbol:"MB",factor:8.38861e6}
            ]},
            currency: { name: "Tiền Tệ (Real-time)", icon: "fas fa-dollar-sign", isDynamic: true, units: [
                {name:"VND",symbol:"VND",rate:1},{name:"USD",symbol:"USD",rate:null},{name:"EUR",symbol:"EUR",rate:null},
                {name:"JPY",symbol:"JPY",rate:null},{name:"GBP",symbol:"GBP",rate:null},{name:"CNY",symbol:"CNY",rate:null},
                {name:"KRW",symbol:"KRW",rate:null},{name:"THB",symbol:"THB",rate:null},{name:"SGD",symbol:"SGD",rate:null},{name:"AUD",symbol:"AUD",rate:null},
                {name:"CAD",symbol:"CAD",rate:null},{name:"CHF",symbol:"CHF",rate:null}
            ]},
            typography: { name: "In Ấn", icon: "fas fa-font", base: 'px', units: [
                {name:"Pixel",symbol:"px",factor:1},{name:"Point",symbol:"pt",factor:1.33333},{name:"Em",symbol:"em",factor:16},{name:"Pica",symbol:"pc",factor:16}
            ]}
        };

        let currentCategory = 'length';
        let history = JSON.parse(localStorage.getItem('converterHistory')) || [];
        let rates = {};

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            populateCategories();
            populateMobileDropdown();
            loadCategory('length');
            updateHistory();
            document.getElementById('inputValue').addEventListener('input', convert);
            document.getElementById('fromUnit').addEventListener('change', convert);
            document.getElementById('toUnit').addEventListener('change', convert);
            document.getElementById('swapUnits').addEventListener('click', swap);
            document.getElementById('categorySearch').addEventListener('input', searchCategories);
            fetchRates();
            // Quick buttons
            document.querySelectorAll('.quick-btn').forEach(btn => btn.addEventListener('click', (e) => {
                document.querySelectorAll('.quick-btn').forEach(b => b.classList.remove('active'));
                e.target.classList.add('active');
            }));
        });

        function populateCategories() {
            const menu = document.getElementById('unitCategoriesMenu');
            menu.innerHTML = Object.entries(CONVERSION_CATEGORIES).map(([key, cat]) => 
                `<div class="category-item ${key === 'length' ? 'active' : ''}" data-key="${key}" onclick="loadCategory('${key}')">
                    <i class="${cat.icon}"></i> ${cat.name}
                </div>`
            ).join('');
        }

        function populateMobileDropdown() {
            const select = document.getElementById('mobileCategorySelect');
            select.innerHTML = '<option value="">Chọn lĩnh vực</option>' + Object.entries(CONVERSION_CATEGORIES).map(([key, cat]) => 
                `<option value="${key}"><i class="${cat.icon}"></i> ${cat.name}</option>`
            ).join('');
        }

        function searchCategories() {
            const query = document.getElementById('categorySearch').value.toLowerCase();
            document.querySelectorAll('.category-item').forEach(item => {
                const text = item.textContent.toLowerCase();
                item.classList.toggle('hidden', !text.includes(query));
            });
        }

        function loadQuickCategory(key) {
            loadCategory(key);
        }

        async function fetchRates() {
            Swal.fire({
                title: 'Đang cập nhật tỷ giá...',
                html: `
                    <div style="text-align: center;">
                        <p style="margin-bottom: 15px; font-size: 16px; color: #333;">
                            Đang tải dữ liệu thời gian thực...
                        </p>
                        <img src="../assets/img/logo-lazinet/lazinet_LogoFullv2_vi.png" alt="LAZINET Logo" style="height: 100px; object-fit: contain; border-radius: 8px; padding: 5px; background: white; box-shadow: 0 4px 10px rgba(0,0,0,0.1); margin: 10px auto;">
                        <div style="margin-top: 15px; padding: 8px 15px; background: #f8f9fa; border-radius: 8px; display: inline-block;">
                            <small style="color: #666;">Cảm ơn sự kiên nhẫn của bạn!</small>
                        </div>
                    </div>
                `,
                allowOutsideClick: false,
                showConfirmButton: false,
                willOpen: () => {
                    Swal.showLoading();
                },
                width: '400px',
                padding: '2rem'
            });
            try {
                const res = await fetch('https://api.exchangerate-api.com/v4/latest/VND');
                const data = await res.json();
                rates = data.rates;
                CONVERSION_CATEGORIES.currency.units.forEach(u => { if (u.symbol !== 'VND') u.rate = rates[u.symbol]; });
                Swal.close();
                Swal.fire({
                    icon: 'success',
                    title: 'Cập nhật thành công!',
                    text: 'Tỷ giá tiền tệ đã được tải thời gian thực.',
                    timer: 2000,
                    showConfirmButton: false
                });
                document.getElementById('currencyNotice').innerHTML = '<i class="fas fa-check"></i> Tỷ giá real-time cập nhật.';
                document.getElementById('currencyNotice').style.display = 'block';
            } catch (e) {
                Swal.close();
                // Fallback
                const fallback = {USD:25000,EUR:27000,JPY:165,GBP:30500,CNY:3500,KRW:18.5,THB:680,SGD:18500,AUD:16500,CAD:18300,CHF:28000};
                CONVERSION_CATEGORIES.currency.units.forEach(u => { if (u.symbol !== 'VND') u.rate = fallback[u.symbol]; });
                Swal.fire({
                    icon: 'warning',
                    title: 'Cảnh báo',
                    text: 'Sử dụng tỷ giá cố định do lỗi kết nối.',
                    timer: 3000,
                    showConfirmButton: false
                });
                document.getElementById('currencyNotice').innerHTML = '<i class="fas fa-warning"></i> Tỷ giá cố định (API lỗi).';
                document.getElementById('currencyNotice').style.display = 'block';
            }
        }

        function loadCategory(key) {
            currentCategory = key;
            const cat = CONVERSION_CATEGORIES[key];
            document.querySelectorAll('.category-item').forEach(el => el.classList.remove('active'));
            const activeItem = document.querySelector(`.category-item[data-key="${key}"]`);
            if (activeItem) activeItem.classList.add('active');
            document.getElementById('mobileCategorySelect').value = key;
            document.getElementById('currencyNotice').style.display = cat.isDynamic ? 'block' : 'none';

            const fromSel = document.getElementById('fromUnit');
            const toSel = document.getElementById('toUnit');
            fromSel.innerHTML = toSel.innerHTML = cat.units.map((u, i) => `<option value="${i}">${u.name} (${u.symbol})</option>`).join('');
            fromSel.value = 0;
            toSel.value = cat.units.length > 1 ? 1 : 0;
            convert();
        }

        function convert() {
            const cat = CONVERSION_CATEGORIES[currentCategory];
            const val = parseFloat(document.getElementById('inputValue').value) || 0;
            const fromIdx = parseInt(document.getElementById('fromUnit').value);
            const toIdx = parseInt(document.getElementById('toUnit').value);
            const from = cat.units[fromIdx];
            const to = cat.units[toIdx];
            let result = val;
            let formula = 'x 1';

            if (isNaN(val) || val === 0) {
                document.getElementById('resultValue').textContent = '0';
                document.getElementById('conversionRate').textContent = '0.0000';
                document.getElementById('conversionFormula').textContent = 'x 1';
                return;
            }

            const start = performance.now();
            if (cat.isSpecial) {
                if (currentCategory === 'numbers') result = convertNumber(val, from.type, to.type);
                else if (currentCategory === 'roman') result = convertRoman(val, from.type, to.type);
                else if (currentCategory === 'sound') result = convertdB(val, from.type, to.type);
                else result = convertTemp(val, from.type, to.type);
                formula = 'Special';
            } else if (cat.isDynamic) {
                if (from.rate === null || to.rate === null || from.rate === 0 || to.rate === 0) {
                    result = 'Lỗi tỷ giá';
                    formula = 'Lỗi';
                } else {
                    result = val * (from.rate / to.rate);
                    formula = `x ${(from.rate / to.rate).toFixed(4)}`;
                }
            } else {
                const baseFrom = val * from.factor;
                result = baseFrom / to.factor;
                formula = `x ${(from.factor / to.factor).toFixed(6)}`;
            }

            document.getElementById('resultValue').textContent = formatResult(result);
            document.getElementById('conversionRate').textContent = typeof result === 'number' ? (result / val).toFixed(6) : 'N/A';
            document.getElementById('conversionFormula').textContent = formula;
            document.getElementById('conversionTime').textContent = `${(performance.now() - start).toFixed(2)}ms`;

            // History
            if (typeof result === 'number') {
                history.unshift({ from: `${val} ${from.symbol}`, to: `${formatResult(result)} ${to.symbol}`, cat: cat.name, time: new Date().toLocaleTimeString() });
                if (history.length > 10) history = history.slice(0, 10);
                localStorage.setItem('converterHistory', JSON.stringify(history));
                updateHistory();
            }
        }

        // Additional converters (expanded)
        function convertTemp(val, from, to) {
            let c = val;
            if (from === 'F') c = (val - 32) * 5/9;
            else if (from === 'K') c = val - 273.15;
            else if (from === 'R') c = (val - 491.67) * 5/9;
            else if (from === 'Re') c = val * 5/4;

            if (to === 'F') return c * 9/5 + 32;
            if (to === 'K') return c + 273.15;
            if (to === 'R') return (c + 273.15) * 9/5;
            if (to === 'Re') return c * 4/5;
            return c;
        }

        function convertNumber(val, from, to) {
            try {
                const num = parseInt(val, from === 'dec' ? 10 : (from === 'bin' ? 2 : (from === 'hex' ? 16 : 8)));
                return num.toString(to === 'dec' ? 10 : (to === 'bin' ? 2 : (to === 'hex' ? 16 : 8))).toUpperCase();
            } catch (e) {
                return 'Lỗi';
            }
        }

        function convertRoman(val, from, to) {
            if (from === 'arabic') {
                const num = parseInt(val);
                if (isNaN(num) || num <= 0 || num > 3999) return 'Lỗi (1-3999)';
                return toRoman(num);
            } else {
                const romanStr = val.toUpperCase().trim();
                const num = fromRoman(romanStr);
                if (num === 0) return 'Lỗi cú pháp';
                return num.toString();
            }
        }

        function toRoman(num) {
            const romanMap = {M:1000,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1};
            let str = '';
            for (let i in romanMap) {
                while (num >= romanMap[i]) {
                    str += i;
                    num -= romanMap[i];
                }
            }
            return str;
        }

        function fromRoman(str) {
            const romanMap = {I:1,V:5,X:10,L:50,C:100,D:500,M:1000};
            let num = 0;
            for (let i = 0; i < str.length; i++) {
                const current = romanMap[str[i]];
                const next = romanMap[str[i+1]];
                if (next > current) {
                    num += next - current;
                    i++;
                } else {
                    num += current;
                }
            }
            // Simple validation check
            return num;
        }

        function convertdB(val, from, to) {
            // dB is logarithmic, placeholder (This conversion is usually complex and needs a reference pressure/power)
            // Assuming this is a level calculation placeholder based on an input linear value
            if (from === 'Pa' && to === 'dB') return 20 * Math.log10(val / 20e-6); // Assuming reference 20 micro Pascals (SPL)
            if (from === 'dB' && to === 'Pa') return 20e-6 * Math.pow(10, val / 20);
            return 0;
        }

        function formatResult(num) {
            if (typeof num === 'string') return num;
            if (Math.abs(num) < 1e-6 && num !== 0) return num.toExponential(4);
            return num.toLocaleString('vi-VN', { maximumFractionDigits: 10 });
        }

        function swap() {
            const from = document.getElementById('fromUnit');
            const to = document.getElementById('toUnit');
            [from.value, to.value] = [to.value, from.value];
            convert();
        }

        function setInputValue(v) {
            document.getElementById('inputValue').value = v;
            convert();
        }

        function updateHistory() {
            const cont = document.getElementById('conversionHistory');
            cont.innerHTML = history.length ? history.map(h => 
                `<div class="history-item">
                    <span>${h.from} → ${h.to} (${h.cat})</span>
                    <small>${h.time}</small>
                </div>`
            ).join('') : '<div class="text-muted text-center">Chưa có lịch sử</div>';
        }

        function clearHistory() {
            Swal.fire({
                title: 'Xác nhận xóa?',
                text: "Bạn có chắc muốn xóa toàn bộ lịch sử chuyển đổi?",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#d33',
                cancelButtonColor: '#3085d6',
                confirmButtonText: 'Xóa',
                cancelButtonText: 'Hủy'
            }).then((result) => {
                if (result.isConfirmed) {
                    history = [];
                    localStorage.removeItem('converterHistory');
                    updateHistory();
                    Swal.fire(
                        'Đã xóa!',
                        'Lịch sử đã được xóa.',
                        'success'
                    );
                }
            });
        }
    </script>
</body>
</html>